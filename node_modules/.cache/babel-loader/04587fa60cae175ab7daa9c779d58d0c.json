{"remainingRequest":"/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/node_modules/babel-loader/lib/index.js!/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/src/views/login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/src/views/login.vue","mtime":1619822406080},{"path":"/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy92YXNoaXN0cGF0ZWwvRGVza3RvcC9tYWpvcmdyb3VwcHJvamVjdC12YXNoaXN0LXMtdGVhbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy9pbXBvcnRpbmcgYXhpb3MKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKYXhpb3MuZGVmYXVsdHMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKZXhwb3J0IGRlZmF1bHQgewogIC8vaW5pdGlhbGl6aW5nIHZhcmlhYmxlcwogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBFbWFpbDogJycsCiAgICAgIFBhc3N3b3JkOiAnJywKICAgICAgYXV0aDogJycKICAgIH07IC8vQ29tcHV0ZWQgc2VjdGlvbgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHVzZXJJbmZvOiBmdW5jdGlvbiB1c2VySW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuOwogICAgfSAvL21ldGhvZHMgc2VjdGlvbnMKCiAgfSwKICBtZXRob2RzOiB7CiAgICAvL1NlbmQgaW5mbywgd2hpY2ggd2lsbCBwb3N0IHRoZSB1c2VyIGluZm9ybWF0aW9uIHRvIHZlcmlmeSBpdAogICAgc2VuZEluZm86IGZ1bmN0aW9uIHNlbmRJbmZvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCdodHRwOi8vbG9jYWxob3N0OjQwMDAvbG9naW4nLCB7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpcy5FbWFpbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLlBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KSAvL1doZW4gaXQgcmV0dXJucyBpdGxsIGNoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhbiBlcnJvciBhbmQgaWYgaXRzIHRydWUgaXRsbCBkaXNwbGF5IHRoZSBlcnJvcgogICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVsiZGF0YSJdWyJlcnJvciJdKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHJlZnMuZXJyb3IuaW5uZXJUZXh0ID0gcmVzcG9uc2VbImRhdGEiXVsiZXJyb3IiXTsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiaGkiKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgZ2V0IHRoZSB0b2tlbiByZWNlaXZlZCBmcm9tIHRoZSBsb2dpbiAgCiAgICAgICAgICAgICAgICAgICAgLy9zZXQgdGhlIHR5cGUgdG8gdHJ1ZQogICAgICAgICAgICAgICAgICAgIC8vYW5kIGNoZWNrIGlmIGl0cyBhbiBhZG1pbiBvciB1c2VyIGFjY291bnQKICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlc3BvbnNlWyJkYXRhIl1bJ19pZCddKTsKICAgICAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ0eXBlIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldE5hdlRydWUnKTsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0VG9rZW4nLCByZXNwb25zZVsiZGF0YSJdWydfaWQnXSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldFRlc3QnKTsgLy93aWxsIHB1c2ggdG8gdGhlIGJ1aWxkZXJQYWdlCgoKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9idWlsZGVyUGFnZScpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/vashistpatel/Desktop/majorgroupproject-vashist-s-team/src/views/login.vue"],"names":[],"mappings":";;AA2CA;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,KAAK,CAAC,QAAN,CAAe,eAAf,GAAiC,IAAjC;AAEA,eAAc;AACV;AACA,EAAA,IAFU,kBAEJ;AACF,WAAM;AACF,MAAA,KAAK,EAAE,EADL;AAEF,MAAA,QAAQ,EAAE,EAFR;AAGF,MAAA,IAAI,EAAC;AAHH,KAAN,CADE,CAOF;AACH,GAVS;AAUR,EAAA,QAAQ,EAAC;AACP,IAAA,QADO,sBACG;AACN,aAAO,KAAK,MAAL,CAAY,KAAZ,CAAkB,KAAzB;AACH,KAHM,CAIP;;AAJO,GAVD;AAeR,EAAA,OAAO,EAAE;AACP;AACM,IAAA,QAFC,sBAES;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEN,KAAK,CAAC,IAAN,CAAW,6BAAX,EAAyC;AAC3C,kBAAA,KAAK,EAAE,KAAI,CAAC,KAD+B;AAE3C,kBAAA,QAAQ,EAAE,KAAI,CAAC;AAF4B,iBAAzC,EAKF;AALE,iBAMD,IANC,CAMI,UAAC,QAAD,EAAY;AACd,sBAAG,QAAQ,CAAC,MAAD,CAAR,CAAiB,OAAjB,CAAH,EAA6B;AACzB,oBAAA,KAAI,CAAC,KAAL,CAAW,KAAX,CAAiB,SAAjB,GAA6B,QAAQ,CAAC,MAAD,CAAR,CAAiB,OAAjB,CAA7B;AACA,oBAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACH,mBAHD,MAGK;AACD;AACA;AACA;AACA,oBAAA,cAAc,CAAC,OAAf,CAAuB,OAAvB,EAA+B,QAAQ,CAAC,MAAD,CAAR,CAAiB,KAAjB,CAA/B;AACA,oBAAA,cAAc,CAAC,OAAf,CAAuB,MAAvB,EAA8B,IAA9B;;AACA,oBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,YAAnB;;AACA,oBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,UAAnB,EAA8B,QAAQ,CAAC,MAAD,CAAR,CAAiB,KAAjB,CAA9B;;AACA,oBAAA,KAAI,CAAC,MAAL,CAAY,MAAZ,CAAmB,SAAnB,EARC,CASD;;;AACA,oBAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,cAAlB;AAEJ;AAEH,iBAxBC,CAFM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BhB;AA9BO;AAfD,CAAd","sourcesContent":["<template>\r\n<!-- https://bulma.io/documentation/overview/start/ -->\r\n    <div class=\"login\">\r\n        <!-- Body for the login page -->\r\n        <body id=\"loginBody\">\r\n            <div class = \"container is-centered\">\r\n                <div class =\"column is-multiline is-mobile my-6\">\r\n                    <div class =\"column is-4 is-offset-4\"> \r\n                        <div class=\"box\" id=\"box\">\r\n                            <!-- Prevents page from reloading when submitting -->\r\n                            <form @submit.prevent = \"sendInfo()\" action = \"/login\" method=\"post\">\r\n                                <!-- Input for Email -->\r\n                                <label class =\"label\">Email</label>\r\n                                <div class=\"control has-icons-left has-icons-right\">\r\n                                    <input class=\"input\" type=\"Email\" placeholder=\"e.g janedoe@gmail.com\" v-model =\"Email\">\r\n                                    <span class=\"icon is-small is-left\">\r\n                                        <i class=\"fas fa-envelope\"></i>\r\n                                    </span>\r\n                                </div>\r\n                                <!-- Input for Password -->\r\n                                <label class =\"label\">Password</label>\r\n                                <div class=\"control has-icons-left has-icons-right\">\r\n                                    <input class=\"input\" type=\"Password\" placeholder=\"••••••••••••\" v-model =\"Password\">\r\n                                    <span class=\"icon is-small is-left\">\r\n                                        <i class=\"fas fa-lock\"></i>\r\n                                    </span>\r\n                                    <!-- When an error occurs, the message will be displayed inside this p tag -->\r\n                                    <p class=\"has-text-danger has-text-weight-bold\t\" ref=\"error\"></p>\r\n                                </div>\r\n                                <div class =\"column has-text-centered\">\r\n                                    <button id=\"loginSubmitButton\" class =\"button my-4\">Submit</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </body>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n//importing axios\r\nimport axios from 'axios';\r\naxios.defaults.withCredentials = true;\r\n\r\nexport default{\r\n    //initializing variables\r\n    data(){\r\n        return{\r\n            Email: '',\r\n            Password: '',\r\n            auth:''\r\n                \r\n        }\r\n        //Computed section\r\n    },computed:{\r\n        userInfo(){\r\n            return this.$store.state.token;\r\n        },\r\n        //methods sections\r\n    },methods: {\r\n        //Send info, which will post the user information to verify it\r\n        async sendInfo(){\r\n\r\n            await axios.post('http://localhost:4000/login',{\r\n                email: this.Email,\r\n                password: this.Password\r\n                \r\n\r\n            })  //When it returns itll check to see if there is an error and if its true itll display the error\r\n                .then((response)=>{\r\n                    if(response[\"data\"][\"error\"]){\r\n                        this.$refs.error.innerText = response[\"data\"][\"error\"];\r\n                        console.log(\"hi\");\r\n                    }else{\r\n                        // This will get the token received from the login  \r\n                        //set the type to true\r\n                        //and check if its an admin or user account\r\n                        sessionStorage.setItem(\"token\",response[\"data\"]['_id']);\r\n                        sessionStorage.setItem(\"type\",true);\r\n                        this.$store.commit('setNavTrue');\r\n                        this.$store.commit('setToken',response[\"data\"]['_id']);\r\n                        this.$store.commit('setTest');\r\n                        //will push to the builderPage\r\n                        this.$router.push('/builderPage');\r\n\r\n                    }\r\n\r\n                });\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n</script>\r\n<style lang =\"scss\">\r\n</style>"],"sourceRoot":""}]}